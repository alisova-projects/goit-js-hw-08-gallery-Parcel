{"version":3,"sources":["img/gallery-items.js","js/refs.js","js/markup-creation.js","js/on-image-click.js","js/on-close-modal.js","index.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["preview","original","description","galleryContainer","document","querySelector","backdrop","backdropOverlay","backdropContent","closeModalBtn","imgInModal","galleryItem","galleryImage","createGalleryItemsMarkup","images","map","join","onImageClick","evt","preventDefault","target","parentItem","closest","isImage","classList","contains","refs","add","changeModalImgSourсe","addKeyListeners","window","addEventListener","onRightArrowPress","onLeftArrowPress","elem","src","dataset","source","event","RIGHT_ARROW_KEY_CODE","code","currentItem","lastElementChild","nextItem","nextElementSibling","changeImage","LEFT_ARROW_KEY_CODE","firstElementChild","previousElementSibling","currentActiveItem","nextActiveItem","nextImg","remove","onCloseModal","querySelectorAll","forEach","el","removeKeyListeners","onBackdropClick","onEscKeyPress","ESC_KEY_CODE","isEsc","removeEventListener","galleryItemMarkup","galleryItems","insertAdjacentHTML","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","length","module"],"mappings":"AMAA,ACAA,IDAIkE,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,ADFJ,ICEIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,AFHJ,IEGIA,IAAI,CAAC7B,MAAL,APLW,ACAA,CDCb;AMKA,ACAC,APJCpD,AEFG,AEAP,ADAA,AFCEG,EDCEH,ACDFG,CMGA,MDEO+D,ANJE,AEFKrD,EFGV,OMGJ,ALLgB,EAAET,QAAQ,CAACC,ICDtB,CAAkCS,MAAlC,EAA0C,ADC7B,CAAuB,eAAvB,CADL,sCDCb;AMMD,ANHGb,AKCJ,AHJE,ADCAK,EDEEL,ACFFK,OCDOQ,CFGG,ACFF,EDGJ,ACHMV,GCDG,CACVW,GADI,CACA,ADAW,CAACV,aAAT,CAAuB,CCAc,UDArC,CAFG,mDDCb;AOMA6E,APDEhF,AEJ6C,ADC/CK,EMIA2E,APDEhF,ACHFK,MCDUP,CKKH,CAACqF,GPDK,COCb,CPDe,AEJgC,EKKhCJ,ANJA,EAAE7E,EMIE,CAACiF,CLLVrF,GKKK,CAAUsF,ANJA,CAACjF,ECDqB,EKKhC,CAAgB,GAAhB,EAAqB,CAArB,ENJE,CAAuB,CMIC,GAA1B,GAAgCkF,IAAI,CAACC,GAAL,EAA/C,GNJiB,CAHJ;AKSf,ACDEP,APPA,AKWF,AHViD,ADE/CzE,CDJa,COQbyE,ANJAzE,CDIA,GOAI,CAACiF,CLNcxF,CIOZmE,OJPwC,CKM/C,ANJe,CMICsB,CNJCtF,EKKnB,GAAwB,AJPHH,GDEM,CAACI,EMI1B,CAA6B6E,CLNkB,MKM/C,EAAsCD,CNJrB,CAAuB,EMIE,CAACU,WAA3C,MNJiB,CAJJ;AKUb,ACDD,APAG3F,AEP6C,AEAlC,ADAA,AFGbS,EDIET,ACJFS,MCH6BP,CFOpB,AIPamD,ADAApC,EHQlB,ICLS,EAAEb,ECHgC,EEAlC,ADAA,CCAsBkC,ADAApB,GAAtB,AFGU,CAACb,CCHKH,AEAhB,ADA2B,ECAE,SFAK,CDGhC,CACb,8CDEF,ECHe,CALF;AKWb,ANAED,AKKJ,AHbM,AEAJyB,ADAAR,AFKAR,EDGET,AGRFiB,AFKAR,GELG,CGQC,AHRAS,IHQM,EACN,ACJM,EAAEf,EGLPE,IDAL,EFKoB,CAACD,CGLrB,CAAcmB,SAAd,CAAwB4B,CHKZ,CAAuB,IGLnC,CAA+B,SAA/B,OHKY,CARC,4BDQb,sDEDsBnD,QAJlB,sHAQiBD,OARjB,+CASyBC,QATzB,uCAUiBC,WAVjB;AISF,ACDJ,APEIA,AEKC,ACbH,AFIAS,EDIET,ACJFS,CCRO,CKULiF,CLQC5E,CCdGI,GDJC,CIWC,AJOA,EAlBD,ACIK,CHQC,AEZb,ADQW,CKGCiD,ACDA,CPEG,AGRAnD,AFIFd,EMEE,CJNG,CGOV,AHPWgB,EGOjB,ACDJ,ENFuB,CAACf,CEJtB,YFIa,CAAuB,gBAAvB,CATA;AKaZ,ANLD,AEYD,AEhBCqB,ADEA,AFIAd,CDVa,CCUbA,CKCA,ANIA,CMFE,EHPIS,KGOGiD,GAAP,ALHU,EKGE,AFTT5D,ADEW,AFIFN,GEJKgB,KFIG,CEJG,AFIFf,CGNvB,ADE0BiB,CCFVa,GAAhB,GAAsB,ADEH,CAAe,CCFlC,GHMc,CAAuB,WEJlB,CAAnB,CAJwC,CAMxC,GFEc;AKIZ,ACFJ,APIInC,AChBW,EDgBXA,MMFIuE,CCFCsB,APIE,EACL,IMHS,GAAG,ACFlB,CDEmB,ECFE,GDEGvB,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,yCNCvC,sBMDgB,CAAd;ACDF,APKExE,AKdJ,ADEEyB,ADGA,EHSEzB,IOLE2F,AJJErE,IHSI,EACN,CGVS,GIIb,AHPKpB,ADGWiB,EIIA,IJJM,CAACI,SCHvB,ADGgB,CCFb8B,ADE8B7B,QAAjB,CAA0B,OCH1C,CACoB,QDEJ,CAAhB,MCHA,EAEG8B,OAFH,CAEW,QJOX,EIPWC,EAAE;AEOX,ACDA,APMAtD,AKdJ,ADEe,EJYXA,EKdE6D,ICSEQ,GFPWf,EJYJ,AIZM,CAAChC,CEOlB,ANKa,EMLA,IDTM,EDEJ,CCFO,ADEM4B,MAAb,CAAoB,iBAApB,CAAJ,qBCFoCY,qBAAzB,CAA1B;ACUM,ACDH,APAD,AIPa,ADEb,CHVa,EAsBb,AIhBA,GDII,CAACzC,MGMMmD,CHNX,EAAc,OGMO,CAACH,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD,ANMDvE,AKfJ0B,AFGI,EHYA1B,OAAO,EACL,GKhBDG,gBAAL,CAAsB8D,kBAAtB,CAAyC,WAAzC,EAAsDF,iBAAtD,GAEA,CLYE;AMJC,ACDD6B,APQE3F,AIfFwD,ADEC,EIKDmC,APQE3F,AIfFwD,CDRwC,CAWxC,MHYU,EORA,APSN,GOTSqC,KHPK,KGOK,CAAC,YAAY,+CPKpC;AOJE,APSA5F,AIhBH,EJgBGA,AIdJ,MGKQ6F,KAAK,APSE,EAAE,COTD3F,QAAQ,CAACkD,gBAAT,CAA0B,wBAA1B,CAAZ;ADEF,ANEA,AKXF5B,CLXe,EA6Bb,MMTO,GAAP,EDTGvB,gBAAL,CAAsB4B,gBAAtB,CAAuC,OAAvC,EAAgDd,qBAAhD;ACUC,ACFG,APWAjB,AGhBF0B,EHgBE1B,OOXK,APWE,EACL,EOZOgG,CAAC,EJLP1F,CIKU,CAAb,EAAgB0F,CAAC,GAAGD,AJLtB,CAAcvE,IIKa,CAACyE,IJL5B,CAAwBtE,CIKtB,EAAkCqE,AJLpC,CIKqC,AJLT,EIK1B,EAAuC,KJLzC,EAZwC,CAcxC,mCHaA;AOTI,APYF/F,AKlBJ,ADAAyB,EJkBIzB,QOZM6E,APYE,EACN,EInBDvE,EGMW,CAACmE,UAAP,CAAkBqB,CHN5B,CAAqBhE,GGMY,CAACiE,CAAD,CAAL,CAASX,IAA3B,KHNV,CGM+CP,AHNT,MGMe,CAACV,AHNtD,EAA+CV,UGMA,EAAzC,EAAgE,CHNtE,gBJeE;AMNF,ACFQsB,APaJ9E,AKnBJwB,ELmBIxB,MObI8E,CDECN,INWM,CKnBVjE,CLmBY,GObC,CDElB,ACFmBsF,CDECpB,GAApB,CCFwB,CDEC,ACFAqB,CAAD,CAAN,AFNlB,CEMQ,AFNWjE,gBAAnB,CAAoC,OAApC,EAA6CsB,qBAA7C;ACSE,ACFK,APOL,AIbF,ADCEzB,CHjBa,CGiBbA,CHmBA,MMZO,AFRA8B,CEQC,KAAKiB,GAAN,EAAWC,EHPE,CAACxD,CCDvB,CAAyBkB,EEQhB,CAAmB,CHPN,CCDtB,ADCE,CAfwC,CCcV,ADG9B,kEGKO,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,APcDtC,AIpBF,EJoBEA,IIpBEsC,GJoBK,EACL,AIrBK,CAAClB,MAAN,KAAiBM,cAAKhB,UAA1B,EAAsC,qCJmBtC;AAGET,AIrBAoD,ADEFxB,EHmBE5B,AGnBF4B,ECFEwB,MJqBQ,EACN,IItBU,CDEC,GAlByB,CAoBxC,kEHcA;AMTFwB,ACFIe,APgBA1F,AItBD,EJsBCA,EOhBA0F,GDEG,CAACxB,KNcO,COhBD,CPgBG,EOhBA,GDEjB,CCFI,EDEmBD,kBAAvB;AACAU,ACFG,APUD,AIhBD,ADGCxD,CHvBa,CIsBf,ADCEA,CINuB,AP0BvB,EOjBG,EDEE,ACXkB,CDWjBqD,ACXN,IJMU,CAAClD,KGKb,GAAqBkD,CHLnB,CAAqB/C,GAArB,CAAyB,IGK3B,aHLE;AIID,APiBG3B,AGpBH,EHoBGA,OAAO,EACL,0EAFJ;AAGEC,EAAAA,QAAQ,EACN,0EAJJ;AOdFiG,APmBIhG,AIzBJ,ADGA,EHsBIA,IOnBE,CAAC2E,EHNElB,ADGA9B,IHsBM,COnBf,CPmBiB,EOnBAgE,KHNjB,CAAuBvD,CDGvB,EIGA,CJH2B,CCH3B,EAA8B;AJoB5B,AInBA,ADGA,CH3Ba,EAkDb,GI1BMsB,YAAY,GAAG,QAArB;AJ2BE5D,AI1BF,ADGA8B,EHuBE9B,AGvBF8B,ICHM+B,EDGA,CHuBG,AGvBF9B,EHwBH,AI3BO,GAAG6B,WDGd,CCH0B,ADGF,KCHOtB,IDG/B,CCHoC,CAACE,ADGFR,ICHnC,aDGA,gCHsBA;AAGE/B,AGxBF6B,EHwBE7B,AGxBF6B,MAAM,CAACC,CHwBG,EACN,aGzBJ,CAAwB,SAAxB,EAAmCE,gBAAnC,kCHqBA;AAKE/B,AI5BF,ADGD,EHyBGA,II5BE2D,KAAJ,EJ4Ba,AI5BF,EJ4BI;AALf,AItBER,CJ5BW,EAyDb,CI7BEA,YAAY;AJ8BZrD,AI7BD,ADGH,EH0BIA,OA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","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\r\n    description: \"Hokkaido Flower\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\r\n    description: \"Container Haulage Freight\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\r\n    description: \"Aerial Beach View\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\r\n    description: \"Flower Blooms\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\r\n    description: \"Alpine Mountains\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\r\n    description: \"Mountain Lake Sailing\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\r\n    description: \"Alpine Spring Meadows\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\r\n    description: \"Nature Landscape\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\r\n    description: \"Lighthouse Coast Sea\",\r\n  },\r\n];\r\n","export default {\r\n  galleryContainer: document.querySelector('ul.js-gallery'),\r\n  backdrop: document.querySelector('.lightbox'),\r\n  backdropOverlay: document.querySelector('.lightbox__overlay'),\r\n  backdropContent: document.querySelector('.lightbox__content'),\r\n  closeModalBtn: document.querySelector(\r\n    \".lightbox button[data-action='close-lightbox']\",\r\n  ),\r\n  imgInModal: document.querySelector('img.lightbox__image'),\r\n  galleryItem: document.querySelector('.gallery__item'),\r\n  galleryImage: document.querySelector('.gallery__image'),\r\n};\r\n","export function createGalleryItemsMarkup(images) {\r\n  return images\r\n    .map(({ preview, original, description }) => {\r\n      return `\r\n        <li class=\"gallery__item\">\r\n            <a\r\n                class=\"gallery__link\"\r\n                href=\"${original}\"\r\n            >\r\n                <img\r\n                class=\"gallery__image\"\r\n                src=\"${preview}\"\r\n                data-source=\"${original}\"\r\n                alt=\"${description}\"\r\n                />\r\n            </a>\r\n        </li>\r\n`;\r\n    })\r\n    .join('');\r\n}\r\n","import refs from './refs';\r\n\r\nexport default function onImageClick(evt) {\r\n  evt.preventDefault();\r\n\r\n  const target = evt.target;\r\n  const parentItem = target.closest('.gallery__item');\r\n\r\n  // проверяем, чтобы клик был точно по изображению\r\n  const isImage = target.classList.contains('gallery__image');\r\n  if (!isImage) {\r\n    return;\r\n  }\r\n  // добавляем класс открытия модалки\r\n  refs.backdrop.classList.add('is-open');\r\n\r\n  // устанавливаем новый src элемента img.lightbox__image\r\n  changeModalImgSourсe(target);\r\n\r\n  // вешаем слушатели клавиатуры\r\n  addKeyListeners();\r\n\r\n  // вешаем активный класс на картинку, кот. открывается в модалке\r\n  parentItem.classList.add('lightbox__image');\r\n}\r\n\r\nfunction addKeyListeners() {\r\n  //   window.addEventListener('keydown', onEscKeyPress);\r\n  window.addEventListener('keydown', onRightArrowPress);\r\n  window.addEventListener('keydown', onLeftArrowPress);\r\n}\r\n\r\nfunction changeModalImgSourсe(elem) {\r\n  refs.imgInModal.src = elem.dataset.source;\r\n}\r\n\r\n// перелистывание картинок\r\n\r\nfunction onRightArrowPress(event) {\r\n  const RIGHT_ARROW_KEY_CODE = 'ArrowRight';\r\n\r\n  if (event.code === RIGHT_ARROW_KEY_CODE) {\r\n    const currentItem = document.querySelector('.lightbox__image');\r\n\r\n    if (currentItem === refs.galleryContainer.lastElementChild) {\r\n      return;\r\n    }\r\n\r\n    const nextItem = currentItem.nextElementSibling;\r\n\r\n    changeImage(currentItem, nextItem);\r\n  }\r\n}\r\n\r\nfunction onLeftArrowPress(event) {\r\n  const LEFT_ARROW_KEY_CODE = 'ArrowLeft';\r\n\r\n  if (event.code === LEFT_ARROW_KEY_CODE) {\r\n    const currentItem = document.querySelector('.lightbox__image');\r\n\r\n    if (currentItem === refs.galleryContainer.firstElementChild) {\r\n      return;\r\n    }\r\n\r\n    const nextItem = currentItem.previousElementSibling;\r\n\r\n    changeImage(currentItem, nextItem);\r\n  }\r\n}\r\n\r\nfunction changeImage(currentActiveItem, nextActiveItem) {\r\n  const nextImg = nextActiveItem.querySelector('.gallery__image');\r\n\r\n  changeModalImgSourсe(nextImg);\r\n\r\n  currentActiveItem.classList.remove('lightbox__image');\r\n  nextActiveItem.classList.add('lightbox__image');\r\n}\r\n","import refs from './refs';\r\n\r\nexport default function onCloseModal(event) {\r\n  refs.backdrop.classList.remove('is-open');\r\n  refs.imgInModal.src = '';\r\n\r\n  refs.galleryContainer\r\n    .querySelectorAll('gallery__item')\r\n    .forEach(el => el.classList.remove('lightbox__image'));\r\n\r\n  removeKeyListeners();\r\n}\r\n\r\n// закрытие модалки по клику на оверлей\r\nrefs.backdropOverlay.addEventListener('click', onBackdropClick);\r\n\r\nfunction onBackdropClick(event) {\r\n  if (event.target !== refs.imgInModal) {\r\n    onCloseModal();\r\n  }\r\n}\r\n\r\n// закрытие модалки по нажатию клавиши ESC\r\nfunction onEscKeyPress(event) {\r\n  const ESC_KEY_CODE = 'Escape';\r\n  const isEsc = ESC_KEY_CODE === event.code;\r\n\r\n  if (isEsc) {\r\n    onCloseModal();\r\n  }\r\n}\r\n\r\nfunction removeKeyListeners() {\r\n  window.removeEventListener('keydown', onEscKeyPress);\r\n  window.removeEventListener('keydown', onRightArrowPress);\r\n  window.removeEventListener('keydown', onLeftArrowPress);\r\n}\r\n\r\nfunction onRightArrowPress(event) {\r\n  const RIGHT_ARROW_KEY_CODE = 'ArrowRight';\r\n\r\n  if (event.code === RIGHT_ARROW_KEY_CODE) {\r\n    const currentItem = document.querySelector('.lightbox__image');\r\n\r\n    if (currentItem === refs.galleryContainer.lastElementChild) {\r\n      return;\r\n    }\r\n\r\n    const nextItem = currentItem.nextElementSibling;\r\n\r\n    changeImage(currentItem, nextItem);\r\n  }\r\n}\r\n\r\nfunction onLeftArrowPress(event) {\r\n  const LEFT_ARROW_KEY_CODE = 'ArrowLeft';\r\n\r\n  if (event.code === LEFT_ARROW_KEY_CODE) {\r\n    const currentItem = document.querySelector('.lightbox__image');\r\n\r\n    if (currentItem === refs.galleryContainer.firstElementChild) {\r\n      return;\r\n    }\r\n\r\n    const nextItem = currentItem.previousElementSibling;\r\n\r\n    changeImage(currentItem, nextItem);\r\n  }\r\n}\r\n\r\nfunction changeImage(currentActiveItem, nextActiveItem) {\r\n  const nextImg = nextActiveItem.querySelector('.gallery__image');\r\n\r\n  changeModalImgSourсe(nextImg);\r\n\r\n  currentActiveItem.classList.remove('lightbox__image');\r\n  nextActiveItem.classList.add('lightbox__image');\r\n}\r\n","import galleryItems from './img/gallery-items';\r\nimport './css/styles.scss';\r\nimport refs from './js/refs';\r\n\r\n// создаём разметку галлереи\r\nimport { createGalleryItemsMarkup } from './js/markup-creation';\r\nconst galleryItemMarkup = createGalleryItemsMarkup(galleryItems);\r\n\r\nrefs.galleryContainer.insertAdjacentHTML('beforeend', galleryItemMarkup);\r\n\r\n//вешаем слушателя событий\r\nrefs.galleryContainer.addEventListener('click', onImageClick);\r\nimport onImageClick from './js/on-image-click';\r\n\r\n// зыкрытие модалки\r\nrefs.closeModalBtn.addEventListener('click', onCloseModal);\r\nimport onCloseModal from './js/on-close-modal';\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}